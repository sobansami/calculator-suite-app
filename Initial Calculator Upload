<!doctype html>
<html lang="en">
<head>
Â  <meta charset="utf-8" />
Â  <meta name="viewport" content="width=device-width,initial-scale=1" />
Â  <title>Calculator Suite â€” Clean & Responsive</title>
Â  <meta name="description" content="Scientific, Basic, and Unit Converter calculators in one clean, fast, and responsive suite. Solve complex trig, logs, and everyday math instantly."/>
Â  <style>
Â  Â  :root{
Â  Â  Â  --bg:#f6f8fb; --card:#ffffff; --muted:#6b7280; --accent:#0ea5e9; --glass: rgba(14,21,39,0.04);
Â  Â  Â  --shadow: 0 6px 20px rgba(2,6,23,0.08); --radius:12px; --maxwidth:1100px;
Â  Â  Â  --mono: 'Segoe UI Mono', SFMono-Regular, Menlo, Monaco, monospace;
Â  Â  }
Â  Â  *{box-sizing:border-box}
Â  Â  body{margin:0; font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial; background:var(--bg); color:#0f1724;}
Â  Â  header{background:linear-gradient(90deg,#ffffff, #f8fbfe); border-bottom:1px solid #eef2f7}
Â  Â  .wrap{max-width:var(--maxwidth); margin:0 auto; padding:18px}
Â  Â  .topbar{display:flex; align-items:center; gap:16px}
Â  Â  .brand{display:flex; align-items:center; gap:12px}
Â  Â  .logo{width:44px; height:44px; background:linear-gradient(135deg,var(--accent),#7c3aed); border-radius:10px; display:flex; align-items:center; justify-content:center; color:white; font-weight:700}
Â  Â  .title{font-size:18px; font-weight:700}
Â  Â  .subtitle{font-size:13px; color:var(--muted)}

Â  Â  main{max-width:var(--maxwidth); margin:18px auto; padding:18px}
Â  Â  .grid{display:grid; grid-template-columns: 260px 1fr; gap:18px}

Â  Â  /* Sidebar */
Â  Â  .sidebar{background:var(--card); border-radius:var(--radius); box-shadow:var(--shadow); padding:12px}
Â  Â  .search{display:flex; gap:8px; align-items:center}
Â  Â  .search input{flex:1; padding:10px 12px; border-radius:10px; border:1px solid #e6eef6; outline:none}
Â  Â  .list{margin-top:12px}
Â  Â  .list h4{margin:6px 0; font-size:13px}
Â  Â  .item{padding:10px; border-radius:10px; cursor:pointer; display:flex; justify-content:space-between; align-items:center; gap:8px}
Â  Â  .item:hover{background:#f1f5f9}
Â  Â  .item.active{background:linear-gradient(90deg,#e6f6ff,#eef9ff); border-left:4px solid var(--accent);}
Â  Â  .tag{font-size:12px; color:var(--muted)}

Â  Â  /* Content */
Â  Â  .content{min-height:520px}
Â  Â  .card{background:var(--card); border-radius:var(--radius); box-shadow:var(--shadow); padding:18px}
Â  Â  .calculator{display:grid; grid-template-columns: 1fr 320px; gap:16px}
Â  Â  .calc-left{display:flex; flex-direction:column; gap:12px}
Â  Â  .display{background:var(--glass); border-radius:10px; padding:12px; min-height:100px; display:flex; flex-direction:column; justify-content:center}
Â  Â  .expr{color:var(--muted); font-size:14px; min-height:20px; word-break:break-all}
Â  Â  .res{font-size:32px; font-weight:700}

Â  Â  .keys{display:grid; grid-template-columns: repeat(6,1fr); gap:8px}
Â  Â  button.key{padding:12px; border-radius:8px; border:0; background:#f8fafc; font-size:15px; cursor:pointer}
Â  Â  button.key.operator{background:#eef2ff}
Â  Â  button.key.equal{background:linear-gradient(90deg,#06b6d4,#0891b2); color:white; grid-column:span 2}
Â  Â  button.key.clear{background:#fee2e2}

Â  Â  /* Right column */
Â  Â  .rightcol{display:flex; flex-direction:column; gap:12px}
Â  Â  .history{max-height:300px; overflow:auto}
Â  Â  .history .hitem{padding:10px; border-radius:8px; background:#fbfdff; margin-bottom:8px}

Â  Â  /* small screens */
Â  Â  @media(max-width:980px){
Â  Â  Â  .grid{grid-template-columns:1fr}
Â  Â  Â  .calculator{grid-template-columns:1fr}
Â  Â  Â  .rightcol{order:2}
Â  Â  }
Â  </style>
</head>
<body>
Â  <header>
Â  Â  <div class="wrap topbar">
Â  Â  Â  <div class="brand">
Â  Â  Â  Â  <div class="logo">C</div>
Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  <div class="title">Calculator Suite</div>
Â  Â  Â  Â  Â  <div class="subtitle">Quick, clean calculators â€” basic, scientific, converters</div>
Â  Â  Â  Â  </div>
Â  Â  Â  </div>
Â  Â  Â  <div style="margin-left:auto; display:flex; gap:10px; align-items:center">
Â  Â  Â  Â  <a href="#" style="font-size:14px; color:var(--muted); text-decoration:none">About</a>
Â  Â  Â  Â  <a href="#" style="font-size:14px; color:var(--muted); text-decoration:none">Share</a>
Â  Â  Â  </div>
Â  Â  </div>
Â  </header>

Â  <main>
Â  Â  <div class="grid">
Â  Â  Â  <aside class="sidebar card" aria-label="Sidebar">
Â  Â  Â  Â  <div class="search">
Â  Â  Â  Â  Â  <input id="sideSearch" placeholder="Search calculators..." />
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div class="list" id="calcList">
Â  Â  Â  Â  Â  <h4>Common</h4>
Â  Â  Â  Â  Â  <div class="item active" data-id="scientific">Scientific <span class="tag">sin, cos, log</span></div>
Â  Â  Â  Â  Â  <div class="item" data-id="basic">Basic <span class="tag">+ âˆ’ Ã— Ã·</span></div>
Â  Â  Â  Â  Â  <div class="item" data-id="percent">Percentage <span class="tag">% calculations</span></div>

Â  Â  Â  Â  Â  <h4 style="margin-top:12px">Converters</h4>
Â  Â  Â  Â  Â  <div class="item" data-id="unit">Unit Converter <span class="tag">length, weight</span></div>
Â  Â  Â  Â  Â  <div class="item" data-id="currency">Currency <span class="tag">live rates</span></div>

Â  Â  Â  Â  Â  <h4 style="margin-top:12px">Utilities</h4>
Â  Â  Â  Â  Â  <div class="item" data-id="history">History <span class="tag">saved</span></div>
Â  Â  Â  Â  Â  <div class="item" data-id="settings">Settings <span class="tag">theme, angle</span></div>
Â  Â  Â  Â  </div>
Â  Â  Â  </aside>

Â  Â  Â  <section class="content">
Â  Â  Â  Â  <div class="card">
Â  Â  Â  Â  Â  <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:12px">
Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  <strong id="pageTitle">Scientific Calculator</strong>
Â  Â  Â  Â  Â  Â  Â  <div class="tag" id="pageDesc">Trigonometry, logs, powers, parentheses</div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div style="display:flex; gap:8px; align-items:center" id="angleContainer">
Â  Â  Â  Â  Â  Â  Â  <label style="font-size:13px; color:var(--muted)">Mode</label>
Â  Â  Â  Â  Â  Â  Â  <select id="angleMode" style="padding:8px; border-radius:8px">
Â  Â  Â  Â  Â  Â  Â  Â  <option value="deg">Degrees</option>
Â  Â  Â  Â  Â  Â  Â  Â  <option value="rad">Radians</option>
Â  Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  <div class="calculator">
Â  Â  Â  Â  Â  Â  <div class="calc-left">
Â  Â  Â  Â  Â  Â  Â  <div class="display">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="expr" id="expr">0</div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="res" id="res">0</div>
Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  <div class="keys" id="keys">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <aside class="rightcol">
Â  Â  Â  Â  Â  Â  Â  <div class="card history">
Â  Â  Â  Â  Â  Â  Â  Â  <strong>History</strong>
Â  Â  Â  Â  Â  Â  Â  Â  <div id="historyList" style="margin-top:10px"></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div style="display:flex; gap:8px; margin-top:8px">
Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="clearHistory" class="key">Clear</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="exportHistory" class="key">Export</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  <div class="card">
Â  Â  Â  Â  Â  Â  Â  Â  <strong>Quick help</strong>
Â  Â  Â  Â  Â  Â  Â  Â  <p style="margin:8px 0 0; color:var(--muted); font-size:14px">Use parentheses, functions like <code>sin(30)</code>, <code>log(100)</code>. Toggle Degrees/Radians above.</p>
Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </aside>
Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  Â  </section>
Â  Â  </div>
Â  </main>

Â  <script>
Â  Â  // --- app state ---
Â  Â  const calculators = {
Â  Â  Â  scientific: {title:'Scientific Calculator', desc:'Trigonometry, logs, powers, parentheses'},
Â  Â  Â  basic: {title:'Basic Calculator', desc:'Simple arithmetic'},
Â  Â  Â  percent: {title:'Percentage Calculator', desc:'Percent change, part of total'},
Â  Â  Â  unit: {title:'Unit Converter', desc:'Length, weight, volume'},
Â  Â  Â  currency: {title:'Currency Converter', desc:'Live rates (requires API)'}
Â  Â  };

Â  Â  // ðŸ’¡ ORIGINAL Layout is saved to use when switching back
Â  Â  const scientificLayout = [
Â  Â  Â  ['(', ')', '%', 'sqrt', 'x^2', '/'],
Â  Â  Â  ['7','8','9','sin','cos','*'],
Â  Â  Â  ['4','5','6','tan','log','-'],
Â  Â  Â  ['1','2','3','ln','pi','+'],
Â  Â  Â  ['Â±','0','.','exp','10^x','=']
Â  Â  ];
    
    // ðŸ’¡ Corrected Basic Layout for 4 columns
    const basicLayout = [
      ['C', 'âŒ«', '%', '/'],
      ['7', '8', '9', '*'],
      ['4', '5', '6', '-'],
      ['1', '2', '3', '+'],
      ['Â±', '0', '.', '='] // Equal key will span 2 columns via CSS
    ];

    let currentLayout = scientificLayout; // State to track current layout

Â  Â  // DOM refs
Â  Â  const keysRoot = document.getElementById('keys');
Â  Â  const exprEl = document.getElementById('expr');
Â  Â  const resEl = document.getElementById('res');
Â  Â  const historyList = document.getElementById('historyList');
Â  Â  const angleMode = document.getElementById('angleMode');
    const angleContainer = document.getElementById('angleContainer');


Â  Â  // state
Â  Â  let expression = '';
Â  Â  let history = JSON.parse(localStorage.getItem('calc_history')||'[]');

Â  Â  function createKey(label){
Â  Â  Â  const btn = document.createElement('button');
Â  Â  Â  btn.className = 'key';
Â  Â  Â  btn.textContent = label;
Â  Â  Â  // classes for style
Â  Â  Â  if(['/','*','-','+','=','%','âŒ«'].includes(label)) btn.classList.add('operator');
Â  Â  Â  if(label==='=') btn.classList.add('equal');
Â  Â  Â  if(label==='C' || label==='âŒ«') btn.classList.add('clear'); // âŒ« will use clear style
Â  Â  Â  btn.addEventListener('click', ()=>handleKey(label));
Â  Â  Â  return btn;
Â  Â  }

Â  Â  function renderKeys(){
Â  Â  Â  keysRoot.innerHTML = '';
Â  Â  Â  currentLayout.forEach(row=> row.forEach(k=> keysRoot.appendChild(createKey(k))));
Â  Â  }

Â  Â  function toRadiansIfNeeded(v){
Â  Â  Â  return angleMode.value === 'deg' ? v * Math.PI / 180 : v;
Â  Â  }

Â  Â  function safeEval(expr){
Â  Â  Â  // transform user-friendly tokens to Math.* calls
Â  Â  Â  try{
Â  Â  Â  Â  let s = expr.replace(/Ï€/g, 'Math.PI')
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .replace(/sqrt\(/g,'Math.sqrt(')
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .replace(/x\^2/g,'.**2')
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .replace(/10\^/g,'Math.pow(10,') // Fix 10^ to Math.pow(10,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .replace(/\^/g,'**') // Treat general ^ as exponentiation
                    .replace(/log\(/g,'Math.log10(') // Standard log base 10
                    .replace(/ln\(/g,'Math.log(') // Natural log
                    .replace(/exp\(/g,'Math.exp('); // Fix exp( to Math.exp(
                    
        // functions that need angle conversion
        // ðŸ’¡ Note: User must close parenthesis for angle() to work correctly
Â  Â  Â  Â  s = s.replace(/sin\(/g, 'Math.sin(angle(')
Â  Â  Â  Â  Â  Â  Â .replace(/cos\(/g, 'Math.cos(angle(')
Â  Â  Â  Â  Â  Â  Â .replace(/tan\(/g, 'Math.tan(angle(');

Â  Â  Â  Â  // wrapper to convert degrees->radians when angleMode=deg
Â  Â  Â  Â  const angle = (v)=> angleMode.value==='deg' ? (v*Math.PI/180) : v;
Â  Â  Â  Â  const MathSafe = Math; // allow access inside Function

Â  Â  Â  Â  // Add closing parenthesis to angle calls if user missed it (minimal safety check)
        const openAngleCount = (s.match(/angle\(/g) || []).length;
        let finalS = s;
        for(let i=0; i < openAngleCount; i++){
            if(!finalS.includes(')')) finalS += ')'; 
        }

Â  Â  Â  Â  const fn = new Function('angle','Math','return ' + finalS + ';');
Â  Â  Â  Â  const val = fn(angle, MathSafe);
Â  Â  Â  Â  if(!isFinite(val)) throw new Error('Bad');
Â  Â  Â  Â  return val;
Â  Â  Â  }catch(e){ return null; }
Â  Â  }

Â  Â  function handleKey(k){
Â  Â  Â  if(k === 'C'){ expression=''; update(); return; }
Â  Â  Â  // ðŸ’¡ Backspace (âŒ«) logic added
Â  Â  Â  if(k === 'âŒ«'){ expression = expression.slice(0,-1); update(); return; } 
Â  Â  Â  
Â  Â  Â  if(k === '='){ 
            const val = safeEval(expression); 
            if(val===null){ 
                resEl.textContent='Error'; 
            } else { 
                resEl.textContent = String(val); 
                pushHistory(expression, val); 
                expression = String(val); // Set result as next expression start
            } 
            return; 
      }
Â  Â  Â  if(k === 'pi'){ expression += 'Ï€'; update(); return; }
Â  Â  Â  if(k === 'sqrt'){ expression += 'sqrt('; update(); return; }
Â  Â  Â  if(k === 'x^2'){ expression += '**2'; update(); return; }
Â  Â  Â  if(k === '10^x'){ expression += '10**'; update(); return; } // Used ** instead of ^ for JS
Â  Â  Â  if(k === 'exp'){ expression += 'exp('; update(); return; }
Â  Â  Â  if(['sin','cos','tan','log','ln'].includes(k)){ expression += k + '('; update(); return; }
Â  Â  Â  if(k === 'Â±'){ expression = expression.startsWith('-') ? expression.slice(1) : '-' + expression; update(); return; }
Â  Â  Â  // numbers, operators and parentheses
Â  Â  Â  expression += k;
Â  Â  Â  update();
Â  Â  }

Â  Â  function update(){
Â  Â  Â  exprEl.textContent = expression || '0';
Â  Â  Â  // try live-eval
Â  Â  Â  const val = safeEval(expression);
Â  Â  Â  resEl.textContent = val === null ? 'â€”' : String(val);
Â  Â  }

Â  Â  function pushHistory(exp, res){
Â  Â  Â  history.unshift({exp, res, t: new Date().toISOString()});
Â  Â  Â  history = history.slice(0,200);
Â  Â  Â  localStorage.setItem('calc_history', JSON.stringify(history));
Â  Â  Â  renderHistory();
Â  Â  }

Â  Â  function renderHistory(){
Â  Â  Â  historyList.innerHTML = '';
Â  Â  Â  if(history.length===0){ historyList.innerHTML = '<div style="color:var(--muted)">No history</div>'; return; }
Â  Â  Â  history.forEach(h=>{
Â  Â  Â  Â  const d = document.createElement('div'); d.className='hitem'; d.innerHTML = `<div style="font-size:13px;color:var(--muted)">${h.t.split('T')[0]}</div><div style="font-weight:600">${h.exp} = ${h.res}</div>`;
Â  Â  Â  Â  d.addEventListener('click', ()=>{ expression = h.exp; update(); });
Â  Â  Â  Â  historyList.appendChild(d);
Â  Â  Â  });
Â  Â  }

Â  Â  // sidebar navigation
Â  Â  document.querySelectorAll('.item').forEach(it=>{
Â  Â  Â  it.addEventListener('click', ()=>{
Â  Â  Â  Â  document.querySelectorAll('.item').forEach(i=>i.classList.remove('active'));
Â  Â  Â  Â  it.classList.add('active');
Â  Â  Â  Â  const id = it.dataset.id;
Â  Â  Â  Â  document.getElementById('pageTitle').textContent = calculators[id]?.title || 'Calculator';
Â  Â  Â  Â  document.getElementById('pageDesc').textContent = calculators[id]?.desc || '';
Â  Â  Â  Â  // simple content switch: scientific vs basic
Â  Â  Â  Â  if(id === 'basic') loadBasicLayout(); else loadScientificLayout();
Â  Â  Â  });
Â  Â  });

Â  Â  function loadScientificLayout(){
Â  Â  Â  currentLayout = scientificLayout; // Use the 6-column scientific layout
Â  Â  Â  renderKeys();
      keysRoot.style.gridTemplateColumns = 'repeat(6,1fr)'; // Set CSS grid to 6 columns
      angleContainer.style.display = 'flex'; // Show angle mode switch
Â  Â  }
Â  Â  
    // ðŸ’¡ loadBasicLayout function has been corrected
Â  Â  function loadBasicLayout(){
Â  Â  Â  currentLayout = basicLayout; // Use the 4-column basic layout
Â  Â  Â  renderKeys();
      keysRoot.style.gridTemplateColumns = 'repeat(4,1fr)'; // Set CSS grid to 4 columns
      angleContainer.style.display = 'none'; // Hide angle mode switch
Â  Â  }

Â  Â  // search filtering
Â  Â  document.getElementById('sideSearch').addEventListener('input', (e)=>{
Â  Â  Â  const q = e.target.value.toLowerCase();
Â  Â  Â  document.querySelectorAll('#calcList .item').forEach(it=>{
Â  Â  Â  Â  it.style.display = (it.textContent.toLowerCase().includes(q)) ? '' : 'none';
Â  Â  Â  });
Â  Â  });

Â  Â  // history controls
Â  Â  document.getElementById('clearHistory').addEventListener('click', ()=>{ history=[]; localStorage.removeItem('calc_history'); renderHistory(); });
Â  Â  document.getElementById('exportHistory').addEventListener('click', ()=>{ const blob = new Blob([JSON.stringify(history, null, 2)], {type:'application/json'}); const url = URL.createObjectURL(blob); const a = document.createElement('a'); a.href=url; a.download='history.json'; a.click(); URL.revokeObjectURL(url); });

Â  Â  // init
Â  Â  renderKeys(); renderHistory(); update();

Â  Â  // keyboard support (basic)
Â  Â  window.addEventListener('keydown', (e)=>{
Â  Â  Â  if((e.key>='0' && e.key<='9') || ['+','-','*','/','(',')','.'].includes(e.key)){
Â  Â  Â  Â  expression += e.key; update();
Â  Â  Â  } else if(e.key === 'Enter') { const val = safeEval(expression); if(val!==null) pushHistory(expression, val); }
Â  Â  Â  // ðŸ’¡ Backspace key support added
Â  Â  Â  else if(e.key === 'Backspace'){ expression = expression.slice(0,-1); update(); }
Â  Â  });
Â  </script>
</body>
</html>
